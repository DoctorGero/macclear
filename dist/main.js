/**
 * MacClear 1.0.0
 * 帮助Mac 用户完全删除 App ,清理历史残留文件,提交 bug :154624410
 * Author lihaibo123as@163.com
 * Licensed under ISC
 * Released on: December 21, 2018
 */
module.exports={start:function(o){const t=require("./util/os"),e=require("./config"),n=require("./util/tool");console.log("os:",t),e.debug&&(t.debug(),console.log("nw",nw),console.log("conf",e),console.log("process",process),console.log("window",nw.Window.get().window)),Vue.component("loading",require("./js/component/loading")),Vue.component("strcolor",require("./js/component/strcolor")),Vue.component("timestr",require("./js/component/timestr")),Vue.use(require("../node_modules/vue-lazyload/vue-lazyload.js"),{lazyComponent:!0}),this.app=new Vue({el:o,data:{conf:e,apps:[],dir:e.search_path?e.search_path:"/",status:{search:"",order:"name",orderBy:"asc",count:0,loading:!0,title:"Mac优化工具 Example page header"},objtpl:{app:{info:{}}}},computed:{orderIcon:function(){return{"fa-sort-amount-desc":"desc"==this.status.orderBy,"fa-sort-amount-asc":"asc"==this.status.orderBy}}},components:{},methods:{lazyshow:function(o){var t=this;setTimeout(function(){t.appinfo(o)},100)},appinfo:function(o){n.appInfo(o).then(o=>{console.log("App 详情:",o.name,o)},t=>{o.info.$set("donot",!0),console.error("App详情异常:",o.name,t,o)})},toggleSort:function(o){this.status.orderBy="desc"==o?"asc":"desc",console.log("sort",o,this.status.orderBy)},sort:function(o,t,e){if(this.status.count=o.length,o.length&&t&&e){var n;switch(e){case"desc":n=o.sort((o,e)=>o[t]-e[t]).reverse();break;default:n=o.sort((o,e)=>o[t]-e[t])}return n}return o},search:function(o,t){return o.filter(function(o){return!t||(t=t.toLowerCase(),o.name.toLowerCase().indexOf(t)>-1)})},loading:function(){this.status.loading=!0,console.log("loading",this.status.loading)},searchdir:function(o){this.status.otherdirs=n.searchDirs(o)},init:function(){var o=this;o.status.loading=!0,n.searchApp(o.dir).then(function(t){t.forEach(t=>{o.apps.push(Object.assign({},o.objtpl.app,t))}),console.log("app",o.apps),o.status.loading=!1},function(o){console.log("查询错误",o.message)}),console.log("xinit",this)}},mounted:function(){this.init()}})}};